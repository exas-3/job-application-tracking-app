generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
}

enum ApplicationStatus {
  SAVED
  APPLIED
  HR
  TECH
  ONSITE
  OFFER
  REJECTED
  WITHDRAWN
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  name      String?
  password  String   // bcrypt hash later
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  applications Application[]
}

model Application {
  id           String            @id @default(cuid())
  userId       String
  user         User              @relation(fields: [userId], references: [id], onDelete: Cascade)

  company      String
  role         String
  status       ApplicationStatus @default(SAVED)

  jobUrl       String?
  location     String?

  appliedAt    DateTime?
  nextFollowUp DateTime?

  createdAt    DateTime          @default(now())
  updatedAt    DateTime          @updatedAt
}